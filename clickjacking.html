<!DOCTYPE html>
<html lang="en">
<head>
	<script src='https://superal.github.io/canvas2image/canvas2image.js'></script>
	  <script src='https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js'></script>
  <meta charset="UTF-8">
</head>
<body>
		
		<button type="button" class="btn btn-default">Take a Screenshot!</button>
		
</body>

<script>
console.log(window.location.href)
var extractURL = parseURLParams(window.location.href)['url'][0]

document.write('<div style="text-align:center">	<h1 style="text-align:center">POC Of <b style="color:red">CLICKJACKING</b> Vulnerability</h1><iframe src="'+extractURL+'" style="text-align:center" border:2px="" solid="" red;="" width="80%" height="600"></iframe></div>')

function parseURLParams(url) {
    var queryStart = url.indexOf("?") + 1,
        queryEnd   = url.indexOf("#") + 1 || url.length + 1,
        query = url.slice(queryStart, queryEnd - 1),
        pairs = query.replace(/\+/g, " ").split("&"),
        parms = {}, i, n, v, nv;

    if (query === url || query === "") return;

    for (i = 0; i < pairs.length; i++) {
        nv = pairs[i].split("=", 2);
        n = decodeURIComponent(nv[0]);
        v = decodeURIComponent(nv[1]);

        if (!parms.hasOwnProperty(n)) parms[n] = [];
        parms[n].push(nv.length === 2 ? v : null);
    }
    return parms;
}
	
document.querySelector('button').addEventListener('click', function() {
        html2canvas(document.querySelector('.specific'), {
            onrendered: function(canvas) {
                // document.body.appendChild(canvas);
              return Canvas2Image.saveAsPNG(canvas);
            }
        });
    });

</script>
</html>
